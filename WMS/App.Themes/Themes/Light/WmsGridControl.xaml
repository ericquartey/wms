<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:cs="colorscheme_ignorable_uri"
                    xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
                    xmlns:dxb="http://schemas.devexpress.com/winfx/2008/xaml/bars"
                    xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
                    xmlns:dxght="http://schemas.devexpress.com/winfx/2008/xaml/grid/internal"
                    xmlns:dxgn="clr-namespace:DevExpress.Xpf.Grid.Native;assembly=DevExpress.Xpf.Grid.v18.2"
                    xmlns:dxgt="http://schemas.devexpress.com/winfx/2008/xaml/grid/themekeys"
                    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                    xmlns:res="clr-namespace:Ferretto.Common.Resources;assembly=Ferretto.Common.Resources"
                    mc:Ignorable="cs">

    <dx:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
    <dx:BoolToVisibilityInverseConverter x:Key="BoolToVisibilityInverseConverter" />

    <!--  GridColumn style  -->
    <Style TargetType="dxg:GridColumn">
        <Setter Property="IsSmart" Value="True" />
        <Setter Property="HorizontalHeaderContentAlignment" Value="Center" />
    </Style>

    <!--  sort arrows control templates  -->
    <ControlTemplate x:Key="{dxgt:GridColumnHeaderThemeKey ResourceKey=SortArrowUpTemplate, ThemeName=Office2016White}">
        <StackPanel VerticalAlignment="Center"
                    SnapsToDevicePixels="True">
            <Border x:Name="SortBySummaryIndicator"
                    Width="9"
                    Height="1"
                    Margin="0,0,0,1"
                    cs:Name="Border_0001"
                    Background="{DynamicResource OnCommonSecondaryMedium}"
                    Visibility="{Binding IsSortedBySummary, Converter={StaticResource BooleanToVisibilityConverter}}" />
            <Path Width="9"
                  Height="5"
                  HorizontalAlignment="Center"
                  VerticalAlignment="Bottom"
                  cs:Name="Path_0001"
                  Data="F1 M 0,4L 1,4L 1,3L 2,3L 2,2L 3,2L 3,1L 4,1L 4,0L 5,0L 5,1L 6,1L 6,2L 7,2L 7,3L 8,3L 8,4L 9,4L 9,5L 0,5L 0,4 Z "
                  Fill="{DynamicResource OnCommonSecondaryMedium}"
                  Stretch="Fill" />
        </StackPanel>
    </ControlTemplate>

    <ControlTemplate x:Key="{dxgt:GridColumnHeaderThemeKey ResourceKey=SortArrowDownTemplate, ThemeName=Office2016White}">
        <StackPanel VerticalAlignment="Center"
                    SnapsToDevicePixels="True">
            <Border x:Name="SortBySummaryIndicator"
                    Width="9"
                    Height="1"
                    Margin="0,1,0,0"
                    cs:Name="Border_0002"
                    Background="{DynamicResource OnCommonSecondaryMedium}"
                    Visibility="{Binding IsSortedBySummary, Converter={StaticResource BooleanToVisibilityConverter}}" />
            <Path Width="9"
                  Height="5"
                  HorizontalAlignment="Center"
                  VerticalAlignment="Bottom"
                  cs:Name="Path_0002"
                  Data="F1 M 0,0L 9,0L 9,1L 8,1L 8,2L 7,2L 7,3L 6,3L 6,4L 5,4L 5,5L 4,5L 4,4L 3,4L 3,3L 2,3L 2,2L 1,2L 1,1L 0,1L 0,0 Z "
                  Fill="{DynamicResource OnCommonSecondaryMedium}"
                  Stretch="Fill" />
        </StackPanel>
    </ControlTemplate>

    <!--  column filter control template  -->
    <ControlTemplate x:Key="{dxgt:GridColumnHeaderThemeKey ResourceKey=ColumnFilterTemplate,
                                                           ThemeName=Office2016White}"
                     TargetType="{x:Type ToggleButton}">
        <Grid x:Name="Root"
              Width="13"
              Height="13"
              Margin="0,-2,0,0"
              cs:Name="Grid_0001"
              Background="#00000000"
              Visibility="Hidden">
            <Path Width="7"
                  Height="9"
                  HorizontalAlignment="Center"
                  VerticalAlignment="Center"
                  cs:Name="Path_0003"
                  Data="F1 M 1296.5,759C 1298.43,759 1300,759.896 1300,761.014L 1300,762L 1297,765L 1297,768L 1296,768L 1296,765L 1293,762L 1293,761C 1293,759.896 1294.57,759 1296.5,759 Z M 1296.5,760C 1295.12,760 1294,760.448 1294,761C 1294,761.552 1295.12,762 1296.5,762C 1297.88,762 1299,761.552 1299,761C 1299,760.448 1297.88,760 1296.5,760 Z"
                  Fill="{DynamicResource OnCommonSecondaryMedium}"
                  Stretch="Fill"
                  Visibility="{Binding IsMouseOver, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BoolToVisibilityInverseConverter}}">
                <Path.Opacity>
                    <Binding Path="IsChecked"
                             RelativeSource="{RelativeSource TemplatedParent}">
                        <Binding.Converter>
                            <dx:BoolToVisibilityViaOpacityConverter Invert="True" />
                        </Binding.Converter>
                    </Binding>
                </Path.Opacity>
            </Path>
            <Path Width="7"
                  Height="9"
                  HorizontalAlignment="Center"
                  VerticalAlignment="Center"
                  cs:Name="Path_0004"
                  Data="F1 M 1296.5,759C 1298.43,759 1300,759.896 1300,761.014L 1300,762L 1297,765L 1297,768L 1296,768L 1296,765L 1293,762L 1293,761C 1293,759.896 1294.57,759 1296.5,759 Z M 1296.5,760C 1295.12,760 1294,760.448 1294,761C 1294,761.552 1295.12,762 1296.5,762C 1297.88,762 1299,761.552 1299,761C 1299,760.448 1297.88,760 1296.5,760 Z"
                  Fill="{DynamicResource OnCommonSecondaryMedium}"
                  Stretch="Fill"
                  Visibility="{Binding IsMouseOver, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BooleanToVisibilityConverter}}">
                <Path.Opacity>
                    <Binding Path="IsPressed"
                             RelativeSource="{RelativeSource TemplatedParent}">
                        <Binding.Converter>
                            <dx:BoolToVisibilityViaOpacityConverter Invert="True" />
                        </Binding.Converter>
                    </Binding>
                </Path.Opacity>
            </Path>
            <Path Width="7"
                  Height="9"
                  HorizontalAlignment="Center"
                  VerticalAlignment="Center"
                  cs:Name="Path_0005"
                  Data="F1 M 1296.5,759C 1298.43,759 1300,759.896 1300,761.014L 1300,762L 1297,765L 1297,768L 1296,768L 1296,765L 1293,762L 1293,761C 1293,759.896 1294.57,759 1296.5,759 Z M 1296.5,760C 1295.12,760 1294,760.448 1294,761C 1294,761.552 1295.12,762 1296.5,762C 1297.88,762 1299,761.552 1299,761C 1299,760.448 1297.88,760 1296.5,760 Z"
                  Fill="{DynamicResource OnCommonSecondaryMedium}"
                  Stretch="Fill"
                  Visibility="{Binding IsPressed, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BooleanToVisibilityConverter}}" />
            <Path Width="7"
                  Height="9"
                  HorizontalAlignment="Center"
                  VerticalAlignment="Center"
                  cs:Name="Path_0006"
                  Data="F1 M 1296.5,759C 1298.43,759 1300,759.896 1300,761.014L 1300,762L 1297,765L 1297,768L 1296,768L 1296,765L 1293,762L 1293,761C 1293,759.896 1294.57,759 1296.5,759 Z M 1296.5,760C 1295.12,760 1294,760.448 1294,761C 1294,761.552 1295.12,762 1296.5,762C 1297.88,762 1299,761.552 1299,761C 1299,760.448 1297.88,760 1296.5,760 Z"
                  Fill="{DynamicResource OnCommonSecondaryMedium}"
                  Stretch="Fill"
                  Visibility="{Binding IsChecked, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BooleanToVisibilityConverter}}" />
        </Grid>
        <ControlTemplate.Triggers>
            <Trigger Property="dx:ThemeManager.IsTouchEnabled" Value="True">
                <Setter TargetName="Root" Property="Width" Value="26" />
                <Setter TargetName="Root" Property="Height" Value="26" />
                <Setter TargetName="Root" Property="Margin" Value="-8" />
            </Trigger>
        </ControlTemplate.Triggers>
    </ControlTemplate>

    <!--  table view search panel content template  -->
    <Style x:Key="{dxgt:TableViewThemeKey ResourceKey=SearchPanelContentTemplate,
                                          ThemeName=Office2016White}"
           TargetType="{x:Type ContentControl}">
        <Setter Property="dx:FocusHelper2.Focusable" Value="False" />
        <Setter Property="IsTabStop" Value="False" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Grid Background="{DynamicResource {dxgt:TableViewThemeKey ResourceKey=SearchPanelBackground}}">
                        <dxg:GridSearchControl x:Name="PART_SearchControl"
                                               Margin="{DynamicResource {dxgt:TableViewThemeKey ResourceKey=SearchPanelWithoutGroupedPanelMargin}}"
                                               HorizontalAlignment="{Binding Path=(dxg:GridControl.CurrentView).SearchPanelHorizontalAlignment, RelativeSource={RelativeSource TemplatedParent}}"
                                               IsEditorTabStop="False"
                                               IsTabStop="False"
                                               NullText="{x:Static res:General.Search}"
                                               SearchTextBoxMinWidth="{DynamicResource {dxgt:TableViewThemeKey ResourceKey=SearchPanelTextBoxMinWidth}}"
                                               View="{Binding Path=(dxg:GridControl.CurrentView), RelativeSource={RelativeSource TemplatedParent}}"
                                               Visibility="{Binding Path=View.ActualShowSearchPanel, RelativeSource={RelativeSource Self}, Converter={dx:BooleanToVisibilityConverter}}" />
                        <Border x:Name="PART_SearchPanelBorderBottom"
                                BorderBrush="{DynamicResource CommonBackground}"
                                BorderThickness="0,0,0,0">
                            <Border.Visibility>
                                <Binding ElementName="PART_SearchControl"
                                         Path="GroupPanelShown">
                                    <Binding.Converter>
                                        <dx:BoolToVisibilityInverseConverter />
                                    </Binding.Converter>
                                </Binding>
                            </Border.Visibility>
                        </Border>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger SourceName="PART_SearchControl" Property="GroupPanelShown" Value="True">
                            <Setter TargetName="PART_SearchControl" Property="Margin" Value="{DynamicResource {dxgt:TableViewThemeKey ResourceKey=SearchPanelWithGroupedPanelMargin}}" />
                        </Trigger>
                        <DataTrigger Binding="{Binding Path=(dxg:GridControl.CurrentView).IsCompactMode, RelativeSource={RelativeSource TemplatedParent}}"
                                     Value="True">
                            <Setter TargetName="PART_SearchControl" Property="HorizontalAlignment" Value="Stretch" />
                        </DataTrigger>
                        <DataTrigger Binding="{Binding Path=(dxg:GridControl.CurrentView).ActualShowCompactPanel, RelativeSource={RelativeSource TemplatedParent}}"
                                     Value="True">
                            <Setter TargetName="PART_SearchPanelBorderBottom" Property="Visibility" Value="Collapsed" />
                        </DataTrigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  header style  -->
    <Style TargetType="dxg:GridColumnHeader">
        <Setter Property="Background" Value="{DynamicResource CommonSecondaryMedium}" />
        <Setter Property="Foreground" Value="{DynamicResource OnCommonSecondaryMedium}" />
        <Setter Property="Height" Value="30" />
        <Setter Property="FontSize" Value="{DynamicResource GridFontSize}" />
        <Setter Property="BorderBrush" Value="{DynamicResource CommonBackground}" />
        <Setter Property="ShowFilterButtonOnHover" Value="False" />
    </Style>

    <!--  focused row style  -->
    <ControlTemplate x:Key="{dxgt:GridControlThemeKey ResourceKey=FocusedRowBorderTemplate, ThemeName=Office2016White}">
        <Rectangle cs:Name="Rectangle_0003"
                   SnapsToDevicePixels="True"
                   Stroke="{DynamicResource CommonSecondaryDark}"
                   StrokeThickness="2" />
    </ControlTemplate>

    <Style x:Key="AutoHeightRowControlStyle"
           TargetType="{x:Type dxg:RowControl}">
        <Setter Property="Height" Value="Auto" />
        <Setter Property="FontSize" Value="{DynamicResource GridFontSize}" />
    </Style>

    <Style BasedOn="{StaticResource AutoHeightRowControlStyle}"
           TargetType="{x:Type dxg:RowControl}">
        <Setter Property="Height" Value="30" />
    </Style>

    <!--  row style  -->
    <ControlTemplate x:Key="{dxgt:GridRowThemeKey ThemeName=Office2016White,
                                                  ResourceKey=RowTemplate}"
                     TargetType="dxg:RowControl">
        <Border x:Name="RowContentBorder"
                Background="{DynamicResource CommonSecondaryUltralight}"
                BorderBrush="Transparent">
            <Grid>
                <Border x:Name="Background"
                        Background="Transparent"
                        BorderThickness="0" />
                <Grid x:Name="PART_LayoutPanel" />
                <Border x:Name="SelectedBorder"
                        BorderBrush="Transparent"
                        BorderThickness="2" />
            </Grid>
        </Border>
        <ControlTemplate.Triggers>

            <DataTrigger Binding="{Binding AlternateRow}"
                         Value="True">
                <Setter TargetName="Background" Property="Background" Value="{Binding Path=View.ActualAlternateRowBackground}" />
            </DataTrigger>
            <DataTrigger Binding="{Binding AlternateRow}"
                         Value="False">
                <Setter TargetName="Background" Property="Background" Value="{DynamicResource CommonBackground}" />
            </DataTrigger>

            <DataTrigger Binding="{Binding IsSelected}"
                         Value="True">
                <Setter TargetName="SelectedBorder" Property="BorderBrush" Value="{DynamicResource CommonSecondaryMedium}" />
            </DataTrigger>
        </ControlTemplate.Triggers>
    </ControlTemplate>

    <Style TargetType="dxg:TableView">
        <Setter Property="AllowEditing" Value="False" />
        <Setter Property="AllowGrouping" Value="False" />
        <Setter Property="AllowMoveColumnToDropArea" Value="False" />
        <Setter Property="AlternateRowBackground" Value="{DynamicResource CommonSecondaryUltralight}" />
        <Setter Property="FadeSelectionOnLostFocus" Value="False" />
        <Setter Property="NavigationStyle" Value="Row" />
        <Setter Property="ShowFocusedRectangle" Value="True" />
        <Setter Property="ShowGroupPanel" Value="False" />
        <Setter Property="ShowIndicator" Value="False" />
        <Setter Property="ShowHorizontalLines" Value="False" />
        <Setter Property="ShowSearchPanelMode" Value="Never" />
        <Setter Property="ShowVerticalLines" Value="False" />
        <Setter Property="SearchPanelNullText" Value="{x:Static res:General.Search}" />
    </Style>

    <Style TargetType="dxg:CardView">
        <Setter Property="SearchPanelNullText" Value="{x:Static res:General.Search}" />
    </Style>

    <!--  FitColumnHeader style  -->
    <Style TargetType="{x:Type dxg:FitColumnHeader}">
        <Setter Property="Background" Value="{DynamicResource CommonSecondaryMedium}" />
        <Setter Property="BorderBrush" Value="{DynamicResource CommonBackground}" />
    </Style>

    <!--  card view control template  -->
    <ControlTemplate x:Key="{dxgt:CardViewThemeKey ResourceKey=ScrollViewerTemplate, ThemeName=Office2016White}">
        <Grid dxg:GridControl.CurrentView="{Binding Path=(dxg:GridControl.CurrentView), RelativeSource={RelativeSource TemplatedParent}}">
            <dx:ScrollBarExtensions.ScrollBehavior>
                <Binding Path="(dxg:GridControl.CurrentView).UseExtendedMouseScrolling"
                         RelativeSource="{RelativeSource Self}">
                    <Binding.Converter>
                        <dx:BoolToObjectConverter FalseValue="{dx:NativeScrollBehavior}"
                                                  TrueValue="{dxg:CardDataPresenterScrollBehavior}" />
                    </Binding.Converter>
                </Binding>
            </dx:ScrollBarExtensions.ScrollBehavior>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <ContentControl Grid.Row="0"
                            dxg:GridControl.CurrentView="{Binding Path=(dxg:GridControl.CurrentView), RelativeSource={RelativeSource TemplatedParent}}"
                            Template="{DynamicResource {dxgt:CardViewThemeKey ResourceKey=TopPanel}}" />
            <Border x:Name="PART_GroupPanel"
                    Grid.Row="1"
                    Grid.ColumnSpan="2"
                    cs:Name="Border_0004"
                    dxg:GridControl.CurrentView="{Binding Path=(dxg:GridControl.CurrentView), RelativeSource={RelativeSource TemplatedParent}}"
                    Background="#FFFFFFFF"
                    BorderBrush="#FFD6D6D6"
                    BorderThickness="0,0,0,1">
                <dxg:GridControl.CurrentViewChangedListener>
                    <dxg:GroupPanelInitializer />
                </dxg:GridControl.CurrentViewChangedListener>
                <dxg:GridViewHitInfoBase.HitTestAcceptor>
                    <dxght:GroupPanelTableViewHitTestAcceptor />
                </dxg:GridViewHitInfoBase.HitTestAcceptor>
                <Grid x:Name="Grid1"
                      Margin="8">
                    <TextBlock x:Name="GroupPanelDragText"
                               Style="{DynamicResource {dxgt:TableViewThemeKey ResourceKey=GroupPanelDragTextStyle}}">
                        <TextBlock.Text>
                            <Binding ConverterParameter="GridGroupPanelText"
                                     Path="(dxg:GridControl.CurrentView).LocalizationDescriptor"
                                     RelativeSource="{RelativeSource TemplatedParent}">
                                <Binding.Converter>
                                    <dxg:DynamicLocalizationStringValueConvertor />
                                </Binding.Converter>
                            </Binding>
                        </TextBlock.Text>
                    </TextBlock>
                    <dxg:ColumnItemsControl x:Name="groupPanelItemsControl"
                                            dxb:BarManager.DXContextMenu="{Binding Path=(dxg:GridControl.ActiveView).GridMenu, RelativeSource={RelativeSource TemplatedParent}}"
                                            dxg:GridPopupMenu.GridMenuType="GroupPanel"
                                            ItemsSource="{Binding Path=(dxg:GridControl.CurrentView).GroupedColumns, RelativeSource={RelativeSource TemplatedParent}}"
                                            Style="{DynamicResource {dxgt:GroupRowThemeKey ResourceKey=GroupItemsControlStyle}}" />
                </Grid>
            </Border>
            <Border x:Name="PART_FooterItemsControlBorder"
                    Grid.Row="2"
                    Grid.ColumnSpan="2"
                    cs:Name="Border_0006"
                    Background="#FFFFFFFF"
                    BorderBrush="#FFD6D6D6"
                    BorderThickness="0,0,0,1"
                    Visibility="{Binding Path=(dxg:DataControlBase.ActiveView).ShowTotalSummary, RelativeSource={RelativeSource Self}, Converter={StaticResource BooleanToVisibilityConverter}}">
                <dxg:GridViewHitInfoBase.HitTestAcceptor>
                    <dxght:TotalSummaryPanelTableViewHitTestAcceptor />
                </dxg:GridViewHitInfoBase.HitTestAcceptor>
                <dxg:TotalSummaryItemsControl x:Name="footerItemsControl"
                                              Margin="1"
                                              HorizontalAlignment="Right"
                                              Style="{DynamicResource {dxgt:CardViewThemeKey IsVisibleInBlend=True,
                                                                                             ResourceKey=TotalSummaryItemsControlStyle}}"
                                              Visibility="Collapsed" />
            </Border>
            <Grid Grid.Row="3"
                  Grid.ColumnSpan="2">
                <Border x:Name="borderFrame"
                        BorderBrush="{DynamicResource {dxgt:TableViewThemeKey ResourceKey=SearchPanelBorderBottomBrush}}"
                        BorderThickness="0,0,0,0">
                    <Grid Margin="{TemplateBinding Padding}"
                          dxg:GridControl.CurrentView="{Binding Path=(dxg:GridControl.CurrentView), RelativeSource={RelativeSource TemplatedParent}}">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <ScrollContentPresenter Name="PART_ScrollContentPresenter"
                                                dxg:GridControl.CurrentView="{Binding Path=(dxg:GridControl.CurrentView), RelativeSource={RelativeSource TemplatedParent}}"
                                                CanContentScroll="True">
                            <dxg:GridControl.CurrentViewChangedListener>
                                <dxg:ScrollContentPresenterInitializer />
                            </dxg:GridControl.CurrentViewChangedListener>
                            <Grid.RowSpan>
                                <Binding Path="(dx:ScrollBarExtensions.ScrollBarMode)"
                                         RelativeSource="{RelativeSource TemplatedParent}">
                                    <Binding.Converter>
                                        <dx:EnumToObjectConverter DefaultValue="1">
                                            <dx:EnumToObjectConverter.Values>
                                                <dx:EnumObjectProvider x:Key="TouchOverlap"
                                                                       Value="2" />
                                            </dx:EnumToObjectConverter.Values>
                                        </dx:EnumToObjectConverter>
                                    </Binding.Converter>
                                </Binding>
                            </Grid.RowSpan>
                            <Grid.ColumnSpan>
                                <Binding Path="(dx:ScrollBarExtensions.ScrollBarMode)"
                                         RelativeSource="{RelativeSource TemplatedParent}">
                                    <Binding.Converter>
                                        <dx:EnumToObjectConverter DefaultValue="1">
                                            <dx:EnumToObjectConverter.Values>
                                                <dx:EnumObjectProvider x:Key="TouchOverlap"
                                                                       Value="2" />
                                            </dx:EnumToObjectConverter.Values>
                                        </dx:EnumToObjectConverter>
                                    </Binding.Converter>
                                </Binding>
                            </Grid.ColumnSpan>
                            <dxg:FocusRectPresenter.IsVerticalScrollHost>True</dxg:FocusRectPresenter.IsVerticalScrollHost>
                            <ScrollContentPresenter.Content>
                                <dxg:CardDataPresenter cs:Name="CardDataPresenter_0001"
                                                       dxg:GridControl.CurrentView="{Binding Path=(dxg:GridControl.CurrentView), RelativeSource={RelativeSource TemplatedParent}}"
                                                       Background="#FFFFFFFF" />
                            </ScrollContentPresenter.Content>
                        </ScrollContentPresenter>
                        <Grid Grid.Row="1"
                              Visibility="{TemplateBinding ScrollViewer.ComputedHorizontalScrollBarVisibility}">
                            <Grid.ColumnSpan>
                                <MultiBinding>
                                    <MultiBinding.Bindings>
                                        <Binding Path="(dx:ScrollBarExtensions.ScrollBarMode)"
                                                 RelativeSource="{RelativeSource Self}" />
                                        <Binding Path="(dx:ScrollBarExtensions.ScrollViewerOrientation)"
                                                 RelativeSource="{RelativeSource TemplatedParent}" />
                                    </MultiBinding.Bindings>
                                    <MultiBinding.Converter>
                                        <dxg:HorizontalScrollBarColumnSpanConverter />
                                    </MultiBinding.Converter>
                                </MultiBinding>
                            </Grid.ColumnSpan>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <ScrollBar Name="PART_HorizontalScrollBar"
                                       Grid.Column="0"
                                       dxgn:ScrollBarAttachedBehavior.UpdateThumbOrientation="{Binding Path=(dxg:GridControl.CurrentView).ScrollMode, RelativeSource={RelativeSource TemplatedParent}, Converter={dxgn:ScrollModeToBoolConverter Orientation=Horizontal}}"
                                       Cursor="Arrow"
                                       Maximum="{Binding ScrollableWidth, RelativeSource={RelativeSource TemplatedParent}, Mode=OneWay}"
                                       Orientation="Horizontal"
                                       ViewportSize="{Binding ViewportWidth, RelativeSource={RelativeSource TemplatedParent}, Mode=OneWay}"
                                       Visibility="{Binding ComputedHorizontalScrollBarVisibility, RelativeSource={RelativeSource TemplatedParent}, Mode=OneWay}"
                                       Value="{Binding HorizontalOffset, RelativeSource={RelativeSource TemplatedParent}, Mode=OneWay}">
                                <dxg:GridViewHitInfoBase.HitTestAcceptor>
                                    <dxght:HorizontalScrollBarTableViewHitTestAcceptor />
                                </dxg:GridViewHitInfoBase.HitTestAcceptor>
                            </ScrollBar>
                            <Border x:Name="PART_HorizontalScrollCorner"
                                    Grid.Column="1"
                                    Width="17"
                                    Height="17"
                                    Style="{DynamicResource {dxgt:ScrollBarThemeKey ResourceKey=ScrollingCornerStyle}}">
                                <Border.Visibility>
                                    <MultiBinding>
                                        <MultiBinding.Bindings>
                                            <Binding Path="(dx:ScrollBarExtensions.ScrollBarMode)"
                                                     RelativeSource="{RelativeSource TemplatedParent}" />
                                            <Binding Path="(ScrollViewer.ComputedVerticalScrollBarVisibility)"
                                                     RelativeSource="{RelativeSource TemplatedParent}" />
                                        </MultiBinding.Bindings>
                                        <MultiBinding.Converter>
                                            <dxg:ScrollCornerCardViewConverter />
                                        </MultiBinding.Converter>
                                    </MultiBinding>
                                </Border.Visibility>
                            </Border>
                        </Grid>
                        <ScrollBar Name="PART_VerticalScrollBar"
                                   Grid.Column="1"
                                   dxgn:ScrollBarAttachedBehavior.UpdateThumbOrientation="{Binding Path=(dxg:GridControl.CurrentView).ScrollMode, RelativeSource={RelativeSource TemplatedParent}, Converter={dxgn:ScrollModeToBoolConverter Orientation=Vertical}}"
                                   Cursor="Arrow"
                                   Maximum="{Binding ScrollableHeight, RelativeSource={RelativeSource TemplatedParent}, Mode=OneWay}"
                                   ViewportSize="{Binding ViewportHeight, RelativeSource={RelativeSource TemplatedParent}, Mode=OneWay}"
                                   Visibility="{Binding ComputedVerticalScrollBarVisibility, RelativeSource={RelativeSource TemplatedParent}, Mode=OneWay}"
                                   Value="{Binding VerticalOffset, RelativeSource={RelativeSource TemplatedParent}, Mode=OneWay}">
                            <dxg:GridViewHitInfoBase.HitTestAcceptor>
                                <dxght:VerticalScrollBarTableViewHitTestAcceptor />
                            </dxg:GridViewHitInfoBase.HitTestAcceptor>
                            <Grid.RowSpan>
                                <MultiBinding>
                                    <MultiBinding.Bindings>
                                        <Binding Path="(dx:ScrollBarExtensions.ScrollBarMode)"
                                                 RelativeSource="{RelativeSource Self}" />
                                        <Binding Path="(dx:ScrollBarExtensions.ScrollViewerOrientation)"
                                                 RelativeSource="{RelativeSource TemplatedParent}" />
                                    </MultiBinding.Bindings>
                                    <MultiBinding.Converter>
                                        <dxg:VerticalScrollBarRowSpanCardViewConverter />
                                    </MultiBinding.Converter>
                                </MultiBinding>
                            </Grid.RowSpan>
                        </ScrollBar>
                    </Grid>
                </Border>
            </Grid>
            <dx:DXExpander Name="headerItemsContainer"
                           Grid.RowSpan="7"
                           Grid.ColumnSpan="2"
                           MaxHeight="{Binding Path=(dx:OrderPanelBase.Panel).ActualHeight, ElementName=headerItemsControl, Converter={dx:AddDoubleValueConverter}, ConverterParameter=39}"
                           HorizontalAlignment="Right"
                           VerticalAlignment="Top"
                           dx:DragManager.DropTargetFactory="{x:Static dx:EmptyDropTarget.Instance}"
                           dxg:GridControl.CurrentView="{Binding Path=(dxg:GridControl.CurrentView), RelativeSource={RelativeSource TemplatedParent}}"
                           AnimationProgress="0"
                           HorizontalExpand="None"
                           StretchChild="True"
                           VerticalExpand="FromTopToBottom">
                <dxg:GridControl.CurrentViewChangedListener>
                    <dxg:HeadersPanelInitializer />
                </dxg:GridControl.CurrentViewChangedListener>
                <dxg:GridViewHitInfoBase.HitTestAcceptor>
                    <dxght:ColumnHeaderPanelTableViewHitTestAcceptor />
                </dxg:GridViewHitInfoBase.HitTestAcceptor>
                <Border>
                    <Grid x:Name="Grid2"
                          Margin="0,25,0,0">
                        <Grid x:Name="Window"
                              Margin="0,0,3,3"
                              HorizontalAlignment="Right">
                            <Border cs:Name="Border_0007"
                                    Background="#FFD6D6D6">
                                <Border x:Name="border"
                                        Margin="1"
                                        Padding="3"
                                        cs:Name="Border_0008"
                                        Background="#FFFFFFFF">
                                    <dx:DXExpander Name="headerItemsContainer1"
                                                   MinWidth="20"
                                                   Margin="1"
                                                   HorizontalAlignment="Center"
                                                   VerticalAlignment="Top"
                                                   AnimationProgress="0"
                                                   HorizontalExpand="FromLeftToRight"
                                                   VerticalExpand="None">
                                        <ItemsControl x:Name="headerItemsControl"
                                                      MinWidth="200"
                                                      Style="{DynamicResource {dxgt:CardViewThemeKey ResourceKey=HeaderItemsControlStyle}}" />
                                    </dx:DXExpander>
                                </Border>
                            </Border>
                        </Grid>
                    </Grid>
                </Border>
            </dx:DXExpander>
            <ToggleButton Name="ShowHeadersButton"
                          Grid.Column="1"
                          Margin="0,3,3,0"
                          HorizontalAlignment="Right"
                          VerticalAlignment="Top"
                          IsChecked="{Binding RelativeSource={RelativeSource TemplatedParent}, Converter={dxg:IsDesignTimeConverter}, Mode=OneTime}"
                          Template="{DynamicResource {dxgt:CardViewThemeKey ResourceKey=ShowHeadersButtonTemplate}}"
                          Visibility="{Binding Path=(dxg:GridControl.CurrentView).ShowColumnHeaders, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BooleanToVisibilityConverter}}">
                <Grid.RowSpan>
                    <MultiBinding>
                        <MultiBinding.Bindings>
                            <Binding Path="(dxg:GridControl.CurrentView).ShowGroupPanel"
                                     RelativeSource="{RelativeSource TemplatedParent}" />
                            <Binding Path="(dxg:GridControl.CurrentView).ActualShowSearchPanel"
                                     RelativeSource="{RelativeSource TemplatedParent}" />
                        </MultiBinding.Bindings>
                        <MultiBinding.Converter>
                            <dxg:CardViewTopContrlsIsVisibileToRowSpanCoverter />
                        </MultiBinding.Converter>
                    </MultiBinding>
                </Grid.RowSpan>
                <dxg:GridViewHitInfoBase.HitTestAcceptor>
                    <dxght:ColumnPanelShowButtonCardViewHitTestAcceptor />
                </dxg:GridViewHitInfoBase.HitTestAcceptor>
            </ToggleButton>
            <dxg:FixedTotalSummaryContainerControl Grid.Row="4"
                                                   Grid.ColumnSpan="2"
                                                   dxb:BarManager.DXContextMenu="{Binding Path=(dxg:GridControl.CurrentView).DataControlMenu, RelativeSource={RelativeSource TemplatedParent}}"
                                                   dxg:GridControl.CurrentView="{Binding Path=(dxg:GridControl.CurrentView), RelativeSource={RelativeSource TemplatedParent}}"
                                                   dxg:GridPopupMenu.GridMenuType="FixedTotalSummary"
                                                   DataContext="{Binding Path=(dxg:GridControl.CurrentView).HeadersData, RelativeSource={RelativeSource TemplatedParent}}"
                                                   Visibility="{Binding Path=(dxg:GridControl.CurrentView).ShowFixedTotalSummary, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BooleanToVisibilityConverter}}" />
            <dxg:FilterPanelControl x:Name="PART_FilterPanel"
                                    Grid.Row="5"
                                    Grid.ColumnSpan="2"
                                    DataContext="{Binding Path=(dxg:GridControl.ActiveView), RelativeSource={RelativeSource Self}}"
                                    Visibility="{Binding Path=ActualShowFilterPanel, Converter={StaticResource BooleanToVisibilityConverter}}" />
            <dxg:FocusRectPresenter x:Name="PART_FocusRectPresenter"
                                    Grid.RowSpan="7"
                                    Grid.ColumnSpan="2"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Top"
                                    View="{Binding Path=(dxg:GridControl.CurrentView), RelativeSource={RelativeSource TemplatedParent}}" />
        </Grid>
        <ControlTemplate.Triggers>
            <Trigger SourceName="ShowHeadersButton" Property="IsChecked" Value="True">
                <Trigger.EnterActions>
                    <BeginStoryboard>
                        <Storyboard SpeedRatio="5">
                            <DoubleAnimation Storyboard.TargetName="headerItemsContainer"
                                             Storyboard.TargetProperty="AnimationProgress"
                                             To="1"
                                             Duration="0:0:1" />
                            <DoubleAnimation BeginTime="0:0:1"
                                             Storyboard.TargetName="headerItemsContainer1"
                                             Storyboard.TargetProperty="AnimationProgress"
                                             To="1"
                                             Duration="0:0:1" />
                        </Storyboard>
                    </BeginStoryboard>
                </Trigger.EnterActions>
                <Trigger.ExitActions>
                    <BeginStoryboard>
                        <Storyboard SpeedRatio="5">
                            <DoubleAnimation Storyboard.TargetName="headerItemsContainer1"
                                             Storyboard.TargetProperty="AnimationProgress"
                                             To="0"
                                             Duration="0:0:1" />
                            <DoubleAnimation BeginTime="0:0:1"
                                             Storyboard.TargetName="headerItemsContainer"
                                             Storyboard.TargetProperty="AnimationProgress"
                                             To="0"
                                             Duration="0:0:1" />
                        </Storyboard>
                    </BeginStoryboard>
                </Trigger.ExitActions>
            </Trigger>
            <DataTrigger Binding="{Binding Path=ShowGroupPanel, RelativeSource={RelativeSource TemplatedParent}}"
                         Value="False">
                <Setter TargetName="PART_GroupPanel" Property="Visibility" Value="Collapsed" />
            </DataTrigger>
            <DataTrigger Binding="{Binding Path=ShowColumnHeaders, RelativeSource={RelativeSource TemplatedParent}}"
                         Value="False">
                <Setter TargetName="headerItemsContainer" Property="Visibility" Value="Collapsed" />
                <Setter TargetName="borderFrame" Property="BorderThickness" Value="0,0,0,0" />
            </DataTrigger>
            <DataTrigger Binding="{Binding Path=ShowGroupPanel, RelativeSource={RelativeSource TemplatedParent}}"
                         Value="True">
                <Setter TargetName="borderFrame" Property="BorderThickness" Value="0,0,0,0" />
            </DataTrigger>
            <DataTrigger Binding="{Binding Path=ActualShowSearchPanel, RelativeSource={RelativeSource TemplatedParent}}"
                         Value="True">
                <Setter TargetName="borderFrame" Property="BorderThickness" Value="0,1,0,0" />
            </DataTrigger>
            <DataTrigger Binding="{Binding Path=ShowTotalSummary, RelativeSource={RelativeSource TemplatedParent}}"
                         Value="True">
                <Setter TargetName="footerItemsControl" Property="Visibility" Value="Visible" />
            </DataTrigger>
            <DataTrigger Binding="{Binding Path=Grid.IsGrouped, RelativeSource={RelativeSource TemplatedParent}}"
                         Value="True">
                <Setter TargetName="GroupPanelDragText" Property="Visibility" Value="Collapsed" />
            </DataTrigger>
            <Trigger SourceName="headerItemsContainer" Property="Opacity" Value="0">
                <Setter TargetName="headerItemsContainer" Property="Visibility" Value="Collapsed" />
            </Trigger>
            <Trigger Property="dx:ThemeManager.IsTouchEnabled" Value="True">
                <Setter TargetName="Grid1" Property="Margin" Value="12" />
                <Setter TargetName="Grid2" Property="Margin" Value="0,46,0,0" />
                <Setter TargetName="border" Property="Padding" Value="12" />
                <Setter TargetName="headerItemsContainer" Property="MaxHeight" Value="{Binding Path=(dx:OrderPanelBase.Panel).ActualHeight, ElementName=headerItemsControl, Converter={dx:AddDoubleValueConverter}, ConverterParameter=77}" />
            </Trigger>
        </ControlTemplate.Triggers>
    </ControlTemplate>

</ResourceDictionary>
