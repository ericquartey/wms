<wms:WmsDialogView x:Class="Ferretto.WMS.Modules.ItemLists.ItemListRowExecuteDialogView"
                   xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                   xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                   xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                   xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
                   xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                   xmlns:res="clr-namespace:Ferretto.Common.Resources;assembly=Ferretto.Common.Resources"
                   xmlns:wms="clr-namespace:Ferretto.WMS.App.Controls;assembly=Ferretto.WMS.App.Controls"
                   Title="{x:Static res:Navigation.ItemListRowExecution}"
                   Width="500"
                   Height="600"
                   d:DesignHeight="500"
                   d:DesignWidth="500"
                   Mode="DialogPopup"
                   ResizeMode="NoResize"
                   SizeToContent="Height"
                   mc:Ignorable="d">
    <Grid Margin="5,0">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <GroupBox Grid.Row="0"
                  Margin="0,0,0,10"
                  Header="{x:Static res:ItemLists.ItemListInformation}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <wms:InfoText Grid.Column="0"
                              Content="{Binding ExecutionRequest.ItemListRowDetails.ItemListCode}" />
                <wms:InfoText Grid.Row="1"
                              Grid.Column="0"
                              Content="{Binding ExecutionRequest.ItemListRowDetails.ItemListDescription}" />
                <wms:InfoText Grid.Row="0"
                              Grid.Column="1"
                              Content="{Binding ExecutionRequest.ItemListRowDetails.ItemListType}" />
                <wms:InfoText Grid.Row="1"
                              Grid.Column="1"
                              Content="{Binding ExecutionRequest.ItemListRowDetails.Status}"
                              IsPillVisible="True" />
            </Grid>
        </GroupBox>

        <GroupBox Grid.Row="1"
                  Margin="0,0,0,10"
                  Header="{x:Static res:ItemLists.ItemListRowInformation}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <wms:InfoText Grid.Column="0"
                              Content="{Binding ExecutionRequest.ItemListRowDetails.Code}" />
                <wms:InfoText Grid.Row="1"
                              Grid.Column="0"
                              Content="{Binding ExecutionRequest.ItemListRowDetails.ItemDescription}" />
                <wms:InfoText Grid.Row="0"
                              Grid.Column="1"
                              Content="{Binding ExecutionRequest.ItemListRowDetails.RequestedQuantity}" />
                <wms:InfoText Grid.Row="1"
                              Grid.Column="1"
                              Content="{Binding ExecutionRequest.ItemListRowDetails.Status}"
                              IsPillVisible="True" />
            </Grid>
        </GroupBox>

        <GroupBox Grid.Row="2"
                  Margin="0"
                  Header="{x:Static res:ItemLists.ItemListRowExecuteOptions}">

            <StackPanel>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="10" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <wms:ComboBox x:Name="SelectedArea"
                                  Grid.Row="0"
                                  wms:ShowTitle.Show="True"
                                  DisplayMember="Name"
                                  EditValue="{Binding ExecutionRequest.AreaId, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                  IsTextEditable="False"
                                  ItemsSource="{Binding ExecutionRequest.AreaChoices}" />
                    <wms:ComboBox x:Name="SelectedBay"
                                  Grid.Column="2"
                                  wms:ShowTitle.Show="True"
                                  EditValue="{Binding ExecutionRequest.BayId, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                  IsTextEditable="False"
                                  ItemsSource="{Binding ExecutionRequest.BayChoices}"
                                  Visibility="{Binding ExecutionRequest.Schedule, Converter={StaticResource BTVIC}}" />
                </Grid>
                <StackPanel Orientation="Horizontal">
                    <dxe:ToggleSwitch Margin="0,20,10,0"
                                      IsChecked="{Binding ExecutionRequest.Schedule}"
                                      Template="{DynamicResource WmsToggleSwitch}" />
                    <Label Margin="0,20,0,0"
                           Content="{x:Static res:BusinessObjects.ItemListExecutionRequestSchedule}" />
                </StackPanel>


            </StackPanel>
        </GroupBox>

        <wms:BusyIndicator Grid.Row="3"
                           Grid.ColumnSpan="2"
                           IsBusy="{Binding IsBusy}"
                           ShowMode="CircleMin">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <TextBlock Margin="5"
                           Style="{DynamicResource TextBlockErrorMessageStyle}"
                           Text="{Binding ValidationError}" />

                <wms:ActionBar Grid.Column="1"
                               Margin="5"
                               HorizontalAlignment="Right"
                               VerticalAlignment="Bottom"
                               Style="{DynamicResource ActionBarNotCustomizable}">
                    <wms:ActionBarItem Command="{Binding ExecuteListRowCommand}"
                                       Content="{x:Static res:ItemLists.RunItemListRow}"
                                       CustomGlyphSize="24,24"
                                       Glyph="pack://application:,,,/Ferretto.WMS.App.Themes;component/icons/material/av/1x_web/ic_play_circle_outline_black_24dp.png"
                                       GlyphSize="Custom" />
                </wms:ActionBar>

            </Grid>
        </wms:BusyIndicator>
    </Grid>

</wms:WmsDialogView>
