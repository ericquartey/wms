<wms:WmsView x:Class="Ferretto.WMS.Modules.MasterData.ChooseLoadingUnitStepView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:ctrls="clr-namespace:Ferretto.Common.Controls.WPF;assembly=Ferretto.Common.Controls.WPF"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
             xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
             xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:res="clr-namespace:Ferretto.Common.Resources;assembly=Ferretto.Common.Resources"
             xmlns:wms="clr-namespace:Ferretto.WMS.App.Controls;assembly=Ferretto.WMS.App.Controls"
             d:DesignHeight="450"
             d:DesignWidth="800"
             mc:Ignorable="d">
    <Grid Height="420">
        <GroupBox Header="{Binding Title}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="10" />
                    <RowDefinition Height="50" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="0.4*" />
                    <ColumnDefinition Width="20" />
                    <ColumnDefinition Width="0.6*" />
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Row="1"
                           Grid.ColumnSpan="2"
                           HorizontalAlignment="Left"
                           Text="{x:Static res:MasterData.ChooseTheLoadingUnitCreateNewCompartmentType}" />

                <TextBlock Grid.Row="2"
                           HorizontalAlignment="Left"
                           Text="{x:Static res:MasterData.NoLoadingUnitsAvailable}"
                           Visibility="{Binding Path=HasLoadingUnits, Converter={StaticResource BTVIC}}" />

                <wms:WmsGridControl Grid.Row="2"
                                    MaxWidth="2000"
                                    MaxHeight="2000"
                                    CurrentItem="{Binding SelectedItem, Mode=TwoWay}"
                                    ItemsSource="{Binding SelectedFilterDataSource, Mode=OneWay}"
                                    Visibility="{Binding Path=HasLoadingUnits, Converter={StaticResource BTVC}}">
                    <wms:WmsGridControl.Columns>
                        <dxg:GridColumn Width="80*"
                                        FieldName="AreaName" />
                        <dxg:GridColumn Width="100*"
                                        FieldName="Code" />

                        <dxg:GridColumn Width="80*"
                                        FieldName="AreaFillRate">
                            <dxg:GridColumn.EditSettings>
                                <dxe:TextEditSettings Mask="p2"
                                                      MaskType="Numeric"
                                                      MaskUseAsDisplayFormat="True" />
                            </dxg:GridColumn.EditSettings>
                        </dxg:GridColumn>
                        <dxg:GridColumn Width="85*"
                                        FieldName="WeightFillRate">
                            <dxg:GridColumn.EditSettings>
                                <dxe:TextEditSettings Mask="p2"
                                                      MaskType="Numeric"
                                                      MaskUseAsDisplayFormat="True" />
                            </dxg:GridColumn.EditSettings>
                        </dxg:GridColumn>

                    </wms:WmsGridControl.Columns>

                </wms:WmsGridControl>

                <GroupBox Grid.Row="1"
                          Grid.RowSpan="2"
                          Grid.Column="2"
                          Margin="0,10,0,0"
                          VerticalAlignment="Stretch"
                          Header="{x:Static res:MasterData.LayoutOverview}"
                          Visibility="{Binding IsLoadingUnitDetailsVisible, Converter={StaticResource BTVC}}">
                    <Grid Margin="0,9,0,0">

                        <dx:WaitIndicator Grid.Row="1"
                                          VerticalAlignment="Center"
                                          Panel.ZIndex="1"
                                          Content="{x:Static res:DesktopApp.Loading}"
                                          DeferedVisibility="{Binding IsLoadingCompartments}" />

                        <ctrls:TrayControl VerticalAlignment="Stretch"
                                           Compartments="{Binding LoadingUnitDetails.Compartments}"
                                           DimensionHeight="{Binding LoadingUnitDetails.Length}"
                                           DimensionWidth="{Binding LoadingUnitDetails.Width}"
                                           IsCompartmentSelectable="False"
                                           RulerInfo="mm"
                                           ShowBackground="True"
                                           ShowLittleMark="False"
                                           ShowMark="True"
                                           ShowMiddleMark="False"
                                           ShowRuler="False" />
                    </Grid>
                </GroupBox>

            </Grid>
        </GroupBox>
    </Grid>
</wms:WmsView>
