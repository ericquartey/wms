<view:View x:Class="Ferretto.VW.App.Modules.Login.Views.LoginView"
           xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
           xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
           xmlns:clr="clr-namespace:System;assembly=mscorlib"
           xmlns:ctrls="clr-namespace:Ferretto.VW.App.Controls.Controls;assembly=Ferretto.VW.App.Controls"
           xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
           xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
           xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
           xmlns:prism="http://prismlibrary.com/"
           xmlns:res="clr-namespace:Ferretto.VW.App.Resources;assembly=Ferretto.VW.App.Resources"
           xmlns:view="clr-namespace:Ferretto.VW.App.Controls;assembly=Ferretto.VW.App.Controls"
           d:DesignHeight="450"
           d:DesignWidth="800"
           prism:ViewModelLocator.AutoWireViewModel="True"
           mc:Ignorable="d">

    <view:View.InputBindings>
        <KeyBinding Key="Return"
                    Command="{Binding LoginCommand}" />
    </view:View.InputBindings>

    <Grid>



        <Border Margin="100,90,100,50"
                Background="{DynamicResource FerrettoDarkGray}"
                BorderBrush="{x:Null}"
                CornerRadius="4">
            <Border.Effect>
                <DropShadowEffect BlurRadius="30"
                                  Direction="270"
                                  Opacity="0.3"
                                  ShadowDepth="15" />
            </Border.Effect>


            <Grid>
                <Grid.ColumnDefinitions>

                    <ColumnDefinition Width="3*" />
                    <ColumnDefinition Width="2*" />

                </Grid.ColumnDefinitions>

                <Border Grid.Column="0"
                        Background="{DynamicResource FerrettoDarkGray}"
                        BorderBrush="{x:Null}"
                        BorderThickness="0"
                        CornerRadius="4,0,0,4">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition />
                        </Grid.RowDefinitions>

                        <Grid.Background>
                            <ImageBrush ImageSource="{DynamicResource LoginBacackgroud}"
                                        Opacity="0.7"
                                        Stretch="UniformToFill" />
                        </Grid.Background>

                        <StackPanel>

                            <StackPanel.Background>
                                <SolidColorBrush Opacity="0.5"
                                                 Color="Black" />
                            </StackPanel.Background>


                            <TextBlock Grid.Row="1"
                                       Margin="25,25,25,8"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Top"
                                       Style="{StaticResource VWAPP_ViewTitleTextBlockStyle}"
                                       Text="{Binding MachineIdentity.ModelName, FallbackValue='ModelName'}" />

                            <TextBlock Grid.Row="2"
                                       Margin="25,0,25,25"
                                       HorizontalAlignment="Left"
                                       VerticalAlignment="Top"
                                       FontSize="{DynamicResource FontSize_High}"
                                       Style="{StaticResource VWAPP_ViewTitleTextBlockStyle}"
                                       Text="{Binding MachineIdentity.SerialNumber, StringFormat={x:Static res:VWApp.SerialNumber}, FallbackValue='SerialNumber'}" />

                        </StackPanel>


                    </Grid>
                </Border>

                <Border Grid.Column="1"
                        Background="{DynamicResource FerrettoLightGray}"
                        BorderBrush="{x:Null}"
                        BorderThickness="0"
                        CornerRadius="0,4,4,0">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="50" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="120" />
                        </Grid.RowDefinitions>



                        <Image Name="imgLogo"
                               Grid.Column="0"
                               Width="45"
                               Height="45"
                               Margin="0,15,15,0"
                               HorizontalAlignment="Right"
                               VerticalAlignment="Center"
                               RenderOptions.BitmapScalingMode="HighQuality"
                               RenderTransformOrigin="0.5, 0.5"
                               Source="{DynamicResource Ferretto_Small_Logo_Inverse}">
                            <Image.RenderTransform>
                                <ScaleTransform x:Name="AnimatedScaleTransform" ScaleX="1" />
                            </Image.RenderTransform>
                            <Image.Triggers>
                                <EventTrigger RoutedEvent="Mouse.MouseDown">
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimationUsingKeyFrames AccelerationRatio="0.4"
                                                                           DecelerationRatio="0.6"
                                                                           Storyboard.TargetName="AnimatedScaleTransform"
                                                                           Storyboard.TargetProperty="(ScaleTransform.ScaleX)">
                                                <LinearDoubleKeyFrame KeyTime="00:00:00.0"
                                                                      Value="1" />
                                                <LinearDoubleKeyFrame KeyTime="00:00:00.5"
                                                                      Value="0" />
                                                <LinearDoubleKeyFrame KeyTime="00:00:01.0"
                                                                      Value="-1" />
                                                <LinearDoubleKeyFrame KeyTime="00:00:01.5"
                                                                      Value="0" />
                                                <LinearDoubleKeyFrame KeyTime="00:00:02.0"
                                                                      Value="1" />
                                            </DoubleAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>
                            </Image.Triggers>
                        </Image>


                        <StackPanel Grid.Row="1"
                                    Margin="20"
                                    VerticalAlignment="Center">

                            <TextBlock Foreground="{DynamicResource FerrettoBlue}"
                                       Style="{StaticResource VWAPP_ViewTitleTextBlockStyle}"
                                       Text="LOGIN" />


                            <ComboBox Margin="0,5"
                                      FontFamily="{DynamicResource VWAPP_TitleFont}"
                                      FontSize="22"
                                      FontWeight="Light"
                                      SelectedValue="{Binding UserLogin.UserName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}">
                                <ComboBox.Items>
                                    <clr:String>installer</clr:String>
                                    <clr:String>operator</clr:String>
                                    <clr:String>admin</clr:String>
                                </ComboBox.Items>
                            </ComboBox>

                            <dxe:PasswordBoxEdit x:Name="txtPassword"
                                                 Margin="0,5"
                                                 FontFamily="{DynamicResource VWAPP_TitleFont}"
                                                 FontSize="22"
                                                 FontWeight="Light"
                                                 MouseDoubleClick="OnKeyboardOpenHandler"
                                                 Password="{Binding UserLogin.Password, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"
                                                 TouchEnter="OnKeyboardOpenHandler" />



                            <Button Margin="0,15"
                                    Padding="5"
                                    HorizontalContentAlignment="Center"
                                    Background="{DynamicResource FerrettoBlue}"
                                    BorderThickness="0"
                                    Command="{Binding LoginCommand}"
                                    Content="{x:Static res:General.Login}"
                                    FontFamily="{DynamicResource VWAPP_TitleFont}"
                                    FontSize="20"
                                    FontWeight="Light"
                                    Foreground="{DynamicResource FerrettoPureWhite}">
                                <Button.Template>
                                    <ControlTemplate TargetType="{x:Type Button}">
                                        <Border Background="{TemplateBinding Background}"
                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                BorderThickness="{TemplateBinding BorderThickness}"
                                                CornerRadius="4">
                                            <ContentPresenter Margin="{TemplateBinding Padding}"
                                                              HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" />
                                        </Border>
                                    </ControlTemplate>
                                </Button.Template>
                            </Button>


                            <!--<ctrls:PpcTextBox HorizontalAlignment="Stretch"
                                              InputText="{Binding UserLogin.UserName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"
                                              LabelText="{x:Static res:VWApp.UserLogin_UserName}"
                                              Visibility="Collapsed" />

                            <ctrls:PpcTextBox HorizontalAlignment="Stretch"
                                              InputText="{Binding UserLogin.Password, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True}"
                                              LabelText="{x:Static res:VWApp.UserLogin_Password}"
                                              Visibility="Collapsed" />

                            <ctrls:PpcButton HorizontalAlignment="Center"
                                             Command="{Binding LoginCommand}"
                                             Content="{x:Static res:General.Login}"
                                             IsBusy="{Binding IsWaitingForResponse}"
                                             Visibility="Collapsed" />-->
                        </StackPanel>


                        <ctrls:PpcBadge Grid.RowSpan="3"
                                        Grid.ColumnSpan="2"
                                        Margin="0,0,20,20"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Bottom"
                                        TextBadge="{Binding BayNumber, StringFormat={x:Static res:VWApp.BayNumber}}" />


                    </Grid>
                </Border>


            </Grid>


        </Border>













    </Grid>




</view:View>
