<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:conv="clr-namespace:Ferretto.VW.App.Controls.Converters"
                    xmlns:ctrls="clr-namespace:Ferretto.VW.App.Controls.Controls">

    <ControlTemplate x:Key="PpcButtonControlTemplate"
                     TargetType="{x:Type Button}">
        <ControlTemplate.Resources>
            <conv:BoolToThicknessConverter x:Key="BTTC"
                                           ValueOnTrue="2" />
        </ControlTemplate.Resources>
        <Border Name="Root_ActionButtonBorder"
                Width="{DynamicResource PpcButtonWidth}"
                Height="{DynamicResource PpcButtonHeight}"
                HorizontalAlignment="{TemplateBinding HorizontalAlignment}"
                Background="{DynamicResource PpcButtonBackground}"
                BorderBrush="{DynamicResource PpcButtonBorderBrush}"
                BorderThickness="{Binding IsActive, Converter={StaticResource BTTC}}">

            <TextBlock Name="ActionButtonTextBlock"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"
                       FontFamily="{DynamicResource PpcFontFamily}"
                       FontSize="{DynamicResource PpcButtonFontSize}"
                       Foreground="{DynamicResource PpcButtonForeground}"
                       Text="{TemplateBinding Content}"
                       TextAlignment="Center"
                       TextWrapping="Wrap" />
        </Border>

        <ControlTemplate.Triggers>
            <Trigger Property="IsPressed" Value="true">
                <Setter TargetName="Root_ActionButtonBorder" Property="Background" Value="{DynamicResource PpcButtonBackgroundPressed}" />
                <Setter TargetName="Root_ActionButtonBorder" Property="BorderBrush" Value="{DynamicResource PpcButtonBorderBrushPressed}" />
                <Setter TargetName="ActionButtonTextBlock" Property="Foreground" Value="{DynamicResource PpcButtonForegroundPressed}" />
            </Trigger>
            <Trigger Property="IsEnabled" Value="false">
                <Setter TargetName="Root_ActionButtonBorder" Property="Background" Value="{DynamicResource PpcButtonBackgroundDisabled}" />
                <Setter TargetName="Root_ActionButtonBorder" Property="BorderBrush" Value="{DynamicResource PpcButtonBorderBrushDisabled}" />
                <Setter TargetName="ActionButtonTextBlock" Property="Foreground" Value="{DynamicResource PpcButtonForegroundDisabled}" />
            </Trigger>
        </ControlTemplate.Triggers>
    </ControlTemplate>
</ResourceDictionary>
